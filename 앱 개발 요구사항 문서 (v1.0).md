# # Exit iOS 앱 개발 요구사항 문서 (v1.0)  

### 1. 기본 기술 스택 (2025년 기준 최신 Swift API만 사용)
- Swift 6 + SwiftUI (iOS 18+ 대상)
- 상태 관리: `@Observable` + `@State` + `@Environment` (완전 최신 패턴)
- 영구 저장: SwiftData (Core Data 대신 완전 전환)
- 비동기 처리: async/await + Task + @MainActor
- UI: SwiftUI 100% (UIKit 절대 금지)
- 다크모드 기본, 라이트모드 지원 (시스템 설정 따라감, 기본값 다크)

### 2. 아키텍처 및 역할 분리 (안드로이드 크로스플랫폼 대비 철저 분리)
```
Exit/
├── Models/                  ← SwiftData 모델 + 순수 struct (공유 가능)
├── Repositories/            ← SwiftData 영구 저장 로직만 담당
├── UseCases/                ← 비즈니스 로직 100% (순수 Swift, UI 없음)
├── ViewModels/              ← @Observable 클래스, UseCase 주입받아 상태 관리
├── Views/                   ← SwiftUI 뷰만 (ViewModel 주입받아 UI만 담당)
├── Services/                ← 계산기, 날짜 포맷터 등 공통 유틸
├── Extensions/              ← SwiftUI + SwiftData 확장
└── Resources/               ← Color, Font, Image 자산
```

→ UseCases 폴더는 안드로이드(Kotlin) 버전에서도 1:1 매핑 가능하도록 설계  
→ ViewModels만 iOS 전용, 나머지는 95% 이상 공유 가능

### 3. 디자인 시스템 (금융 대시보드급 전문성)
- 기본 모드: 다크모드 (디폴트)
- 색상 팔레트
  - 배경: #0A0A0A (진한 블랙)
  - 카드 배경: #121212
  - 주요 텍스트: #FFFFFF
  - 서브 텍스트: #A0A0A0
  - 액센트: #00D4AA (청록, 성공/긍정 강조)
  - 경고: #FF3B30 → #FF9500 → #00D4AA 그라데이션
- 폰트
  - 제목: SF Pro Display Bold / Heavy
  - 본문: SF Pro Text Medium / Semibold
  - 숫자: SF Pro Display + Tabular Numbers (고정폭 숫자 필수)
- 그림자/입체감: 깊은 카드 그림자 + Neumorphism 최소화 → 무겁고 전문적인 금융 대시보드 느낌
- 모든 숫자는 만원 단위 표시 시 “천 단위 쉼표 + 만원” 자동 포맷팅

### 4. 핵심 화면 및 시각적 강조 요소 (하이라이트 필수)
홈화면 (앱의 전부이자 핵심 대시보드)

1. 최상단 D-DAY 헤드라인  
   - 폰트: 42pt Heavy, #FFFFFF  
   - 아래 서브타이틀: “매월 200만원씩 넣으면 ~” 18pt Medium  
   - 배경: 그라데이션 카드 + 큰 그림자

2. 진행률 링 차트 (SwiftUI Charts 사용)  
   - 외곽 링: 회색  
   - 진행 링: #00D4AA 그라데이션, 애니메이션 포함  
   - 중앙에 크게: 7,500만원 / 4억 2,750만원 (28%)

3. 안전 점수 대형 카드  
   - 총점: 96pt Heavy + #00D4AA  
   - 게이지 바 또는 원형 프로그레스 (Charts)  
   - 4개 세부 항목은 가로 카드 리스트로 펼쳐짐

4. 시나리오 탭 바  
   - 가로 스크롤 가능한 칩 형태  
   - 선택된 시나리오만 #00D4AA 배경

5. 액션 버튼 2개
   - [입금하고 기간 줄이기] → 풀폭 초록 그라데이션 버튼
   - [자산 변동 업데이트] → 작고 회색 아웃라인 버튼

### 5. 주요 기능별 상세 요구사항

#### SwiftData 모델 (Models/)
```swift
@Model final class UserProfile { ... }      // 온보딩 데이터
@Model final class Scenario { ... }         // 시나리오 여러 개 저장
@Model final class MonthlyUpdate { ... }    // 매달 입금·패시브·자산 기록 (안전점수용)
```

#### UseCases/ (비즈니스 로직 순수 Swift)
- RetirementCalculator.useCase → 목표자산, D-DAY 계산
- SafetyScoreCalculator.useCase → 4개 항목 점수 계산
- ScenarioManager.useCase → 시나리오 CRUD 및 적용

#### ViewModels/
- OnboardingViewModel
- HomeViewModel ← @Observable, 실시간 D-DAY, 안전점수, 차트 데이터 제공

#### Charts 필수 사용
- 진행률: Ring Chart (Progress Ring)
- 안전점수: BarChart 또는 Radial Markup
- 자산 성장 추이: LineChart (최근 12개월, MonthlyUpdate 기반)

### 6. 반드시 지킬 규칙
- 모든 비즈니스 로직은 UseCase 안에만 존재 (ViewModel은 계산 금지)
- 숫자는 무조건 Formatter 통해 “7,500만원” 형식으로 표시
- 애니메이션은 withAnimation { }으로 감싸기
- 모든 텍스트는 .font(.largeTitle) 이상으로 가독성 확보
- 화면 전환은 .sheet / .fullScreenCover만 사용 (NavigationStack 금지)

이 문서 그대로 Cursor AI에 복사해서  
“위 요구사항대로 Exit iOS 앱 만들어줘” 라고 하면  
완벽한 금융 대시보드급 앱이 한 번에 나옵니다.  
필요시 프로젝트 템플릿도 바로 생성해줄게요.